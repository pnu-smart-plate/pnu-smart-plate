<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>분석 결과</title>
  <style>
    body {
      font-family: 'Arial', sans-serif;
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      height: 100vh;
      margin: 0;
      background-color: #f8f9fa;
      color: #343a40;
    }

    .container {
      width: 80%;
      max-width: 600px;
      background: #fff;
      padding: 20px;
      border-radius: 8px;
      box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
      text-align: center;
    }

    h1 {
      color: #495057;
      margin-bottom: 20px;
    }

    p {
      margin: 10px 0;
    }

    #analyzed-food, #food-calories, #food-nutrients {
      font-weight: bold;
      color: #007bff;
    }

    #search-input {
      width: calc(100% - 20px);
      padding: 10px;
      margin: 20px 0;
      border: 1px solid #ced4da;
      border-radius: 4px;
      font-size: 16px;
    }

    #search-results {
      list-style: none;
      padding: 0;
      margin: 20px 0;
      max-height: 200px;
      overflow-y: auto;
      border: 1px solid #ced4da;
      border-radius: 4px;
    }

    #search-results li {
      padding: 10px;
      cursor: pointer;
      border-bottom: 1px solid #ced4da;
    }

    #search-results li:last-child {
      border-bottom: none;
    }

    #search-results li:hover {
      background-color: #e9ecef;
    }

    button {
      padding: 10px 20px;
      font-size: 16px;
      color: #fff;
      background-color: #007bff;
      border: none;
      border-radius: 4px;
      cursor: pointer;
      margin-top: 20px;
    }

    button:hover {
      background-color: #0056b3;
    }
  </style>
</head>
<body>
<div class="container">
  <h1>분석 결과</h1>
  <p>분석된 음식: <span id="analyzed-food">불고기</span></p>
  <p>칼로리: <span id="food-calories">300 kcal</span></p>
  <p>영양 성분: <span id="food-nutrients">단백질 20g, 지방 15g, 탄수화물 25g</span></p>
  <p>분석 결과가 맞지 않습니까? 다른 음식을 검색하세요:</p>
  <input type="text" id="search-input" placeholder="음식 이름 검색" oninput="searchFood()">
  <ul id="search-results"></ul>
  <p>양 선택:</p>
  <select id="serving-size" onchange="updateServingSize()">
    <option value="0.5">적음</option>
    <option value="1" selected>보통</option>
    <option value="1.5">많음</option>

  </select>
  <button onclick="confirmSelection()">선택 확인</button>
</div>

<script>
  // 하드코딩된 음식 데이터
  const foodData = [
    { name: '김치', calories: 50, protein: 2, fat: 0.5, carbs: 10 },
    { name: '비빔밥', calories: 500, protein: 12, fat: 10, carbs: 80 },
    { name: '된장찌개', calories: 150, protein: 8, fat: 5, carbs: 20 },
    { name: '불고기', calories: 300, protein: 20, fat: 15, carbs: 25 },
    { name: '갈비탕', calories: 400, protein: 30, fat: 20, carbs: 35 },
    { name: '삼겹살', calories: 600, protein: 15, fat: 55, carbs: 0 },
    { name: '잡채', calories: 350, protein: 6, fat: 10, carbs: 65 },
    { name: '김밥', calories: 200, protein: 4, fat: 2, carbs: 40 },
    { name: '냉면', calories: 250, protein: 5, fat: 2, carbs: 50 },
    { name: '떡볶이', calories: 400, protein: 6, fat: 10, carbs: 75 }
  ];

  function searchFood() {
    const query = document.getElementById('search-input').value.toLowerCase();
    const results = document.getElementById('search-results');
    results.innerHTML = '';

    if (query.length < 1) {
      return;
    }

    const filteredFoods = foodData.filter(food => food.name.toLowerCase().includes(query));
    filteredFoods.forEach(food => {
      const li = document.createElement('li');
      li.textContent = food.name;
      li.onclick = () => selectFood(food);
      results.appendChild(li);
    });
  }

  function selectFood(food) {
    document.getElementById('analyzed-food').textContent = food.name;
    document.getElementById('food-calories').textContent = calculatePerServing(food.calories) + ' kcal';
    document.getElementById('food-nutrients').textContent = `단백질 ${calculatePerServing(food.protein)}g, 지방 ${calculatePerServing(food.fat)}g, 탄수화물 ${calculatePerServing(food.carbs)}g`;
  }

  function updateServingSize() {
    const selectedFood = foodData.find(food => food.name === document.getElementById('analyzed-food').textContent);
    if (selectedFood) {
      selectFood(selectedFood);
    }
  }

  function calculatePerServing(value) {
    const servingSize = parseFloat(document.getElementById('serving-size').value);
    return (value * servingSize).toFixed(2);
  }

  function confirmSelection() {
    const selectedFood = document.getElementById('analyzed-food').textContent;
    alert(`선택된 음식: ${selectedFood}`);
  }
</script>
</body>
</html>
